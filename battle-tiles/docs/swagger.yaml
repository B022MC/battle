definitions:
  basic.BasicMenuDoc:
    properties:
      active_path:
        type: string
      auths:
        type: string
      children:
        items:
          $ref: '#/definitions/basic.BasicMenuDoc'
        type: array
      component:
        type: string
      created_at:
        type: string
      enter_transition:
        type: string
      extra_icon:
        type: string
      fixed_tag:
        type: boolean
      frame_loading:
        type: boolean
      frame_src:
        type: string
      hidden_tag:
        type: boolean
      icon:
        type: string
      id:
        type: integer
      keep_alive:
        type: boolean
      leave_transition:
        type: string
      menu_type:
        type: integer
      name:
        type: string
      parent_id:
        type: integer
      path:
        type: string
      rank:
        type: string
      redirect:
        type: string
      show_link:
        type: boolean
      show_parent:
        type: boolean
      title:
        type: string
      updated_at:
        type: string
    type: object
  basic.BasicUserDoc:
    properties:
      avatar:
        description: 头像
        type: string
      created_at:
        type: string
      first_letter:
        description: 首字母
        type: string
      id:
        type: integer
      introduction:
        description: 个人介绍
        type: string
      last_login_at:
        description: 最后登录时间
        type: string
      nick_name:
        description: 昵称
        type: string
      password:
        description: 密码（哈希）
        type: string
      pinyin_code:
        description: 全拼
        type: string
      salt:
        description: 盐
        type: string
      updated_at:
        type: string
      username:
        description: 用户名/员工工号
        type: string
      wechat_id:
        description: 微信号
        type: string
    type: object
  common.Option:
    properties:
      label:
        type: string
      value:
        type: integer
    type: object
  game.bindCtrlReq:
    properties:
      ctrl_id:
        type: integer
      house_gid:
        type: integer
      status:
        description: 默认1
        type: integer
    required:
    - ctrl_id
    - house_gid
    type: object
  game.createCtrlAccountOnlyReq:
    properties:
      house_gid:
        description: 兼容旧接口：如果传 house_gid，则等同“创建+绑定”
        type: integer
      identifier:
        description: 账号或手机号
        type: string
      login_mode:
        description: account|mobile
        type: string
      pwd_md5:
        description: 大写32
        type: string
      status:
        description: 可选，默认1
        type: integer
    required:
    - identifier
    - login_mode
    - pwd_md5
    type: object
  game.unbindCtrlReq:
    properties:
      ctrl_id:
        type: integer
      house_gid:
        type: integer
    required:
    - ctrl_id
    - house_gid
    type: object
  req.AddBasicMenuReq:
    properties:
      component:
        description: 对应前端文件路径
        title: 对应前端文件路径
        type: string
      hidden:
        default: false
        description: 是否隐藏
        title: 是否隐藏
        type: boolean
      name:
        description: 路由name
        title: 路由名称
        type: string
      parent_id:
        default: -1
        description: 父级ID
        title: 父级路由
        type: integer
      path:
        description: 路由path
        title: 路由路径
        type: string
      sort:
        default: 10
        description: 排序
        title: 排序
        type: integer
    required:
    - name
    - sort
    type: object
  req.AddBasicUserReq:
    properties:
      password:
        title: 用户密码
        type: string
      username:
        title: 用户名称
        type: string
    type: object
  req.AssignShopAdminRequest:
    properties:
      house_gid:
        description: 店铺(茶馆)号
        type: integer
      role:
        description: 仅 admin|operator，留空=admin
        enum:
        - admin
        - operator
        type: string
      user_id:
        description: 被授权的用户ID
        type: integer
    required:
    - house_gid
    - user_id
    type: object
  req.BattleDetailRequest:
    properties:
      game_id:
        description: 过滤的用户 gameId（可选）
        type: integer
      group_id:
        description: 圈ID（GroupID）
        type: integer
      house_gid:
        description: 店铺号（圈ID/HouseGID）
        type: integer
      period:
        description: 查询周期：today|yesterday|thisweek
        enum:
        - today
        - yesterday
        - thisweek
        type: string
    required:
    - group_id
    - house_gid
    - period
    type: object
  req.BindMyAccountRequest:
    properties:
      account:
        type: string
      mode:
        enum:
        - account
        - mobile
        type: string
      nickname:
        type: string
      pwd_md5:
        type: string
    required:
    - account
    - mode
    - pwd_md5
    type: object
  req.CreditDepositRequest:
    properties:
      amount:
        description: 上分正数
        type: integer
      biz_no:
        description: 幂等键
        type: string
      house_gid:
        type: integer
      member_id:
        type: integer
      reason:
        description: 备注
        type: string
    required:
    - amount
    - biz_no
    - house_gid
    - member_id
    type: object
  req.CreditForceWithdrawRequest:
    properties:
      amount:
        type: integer
      biz_no:
        type: string
      house_gid:
        type: integer
      member_id:
        type: integer
      reason:
        type: string
    required:
    - amount
    - biz_no
    - house_gid
    - member_id
    type: object
  req.CreditWithdrawRequest:
    properties:
      amount:
        description: 下分正数
        type: integer
      biz_no:
        type: string
      house_gid:
        type: integer
      member_id:
        type: integer
      reason:
        type: string
    required:
    - amount
    - biz_no
    - house_gid
    - member_id
    type: object
  req.CtrlAccountListRequest:
    properties:
      house_gid:
        type: integer
    required:
    - house_gid
    type: object
  req.DecideApplicationRequest:
    properties:
      id:
        description: 申请消息ID
        type: integer
    required:
    - id
    type: object
  req.DismissTableRequest:
    properties:
      house_gid:
        description: 店铺号（圈ID/HouseGID）
        type: integer
      kind_id:
        description: 游戏 KindID，可选；不传时从缓存推断
        type: integer
      mapped_num:
        description: 桌子映射号（MappedNum）
        type: integer
    required:
    - house_gid
    - mapped_num
    type: object
  req.GetWalletRequest:
    properties:
      house_gid:
        type: integer
      member_id:
        type: integer
    required:
    - house_gid
    - member_id
    type: object
  req.GroupBaseRequest:
    properties:
      house_gid:
        type: integer
    required:
    - house_gid
    type: object
  req.GroupBindRequest:
    properties:
      house_gid:
        type: integer
      message_id:
        type: integer
    required:
    - house_gid
    - message_id
    type: object
  req.GroupForbidRequest:
    properties:
      house_gid:
        type: integer
      key:
        type: string
      member_ids:
        items:
          type: integer
        type: array
    required:
    - house_gid
    - key
    type: object
  req.KickMemberRequest:
    properties:
      house_gid:
        type: integer
      member_id:
        type: integer
    required:
    - house_gid
    - member_id
    type: object
  req.ListAllCtrlAccountsRequest:
    properties:
      keyword:
        description: 模糊匹配 identifier
        type: string
      login_mode:
        description: account|mobile
        enum:
        - account
        - mobile
        type: string
      page:
        minimum: 1
        type: integer
      size:
        maximum: 200
        minimum: 1
        type: integer
      status:
        description: 0/1
        type: integer
    type: object
  req.ListApplicationsRequest:
    properties:
      house_gid:
        description: 店铺号（HouseGID）
        type: integer
    required:
    - house_gid
    type: object
  req.ListLedgerRequest:
    properties:
      end_at:
        description: 同上
        type: string
      house_gid:
        type: integer
      member_id:
        type: integer
      page:
        type: integer
      page_size:
        type: integer
      start_at:
        description: RFC3339 或 "2006-01-02"
        type: string
      type:
        description: 1上分 2下分 3强制下分 4调整
        enum:
        - 1
        - 2
        - 3
        - 4
        type: integer
    required:
    - house_gid
    type: object
  req.ListShopAdminsRequest:
    properties:
      house_gid:
        description: 茶馆号
        type: integer
    required:
    - house_gid
    type: object
  req.ListTablesRequest:
    description: 列出当前在线会话的房间快照
    properties:
      house_gid:
        description: 店铺号（圈ID/HouseGID）
        type: integer
    required:
    - house_gid
    type: object
  req.ListWalletsRequest:
    properties:
      has_custom_limit:
        description: 'true: limit_min>0; false: limit_min=0; nil: 不筛'
        type: boolean
      house_gid:
        type: integer
      max_balance:
        type: integer
      min_balance:
        type: integer
      page:
        type: integer
      page_size:
        type: integer
    required:
    - house_gid
    type: object
  req.MemberStatsRequest:
    properties:
      house_gid:
        description: 店铺号（圈ID/HouseGID）
        type: integer
      member_id:
        description: 成员ID（平台 member_id）
        type: integer
    required:
    - house_gid
    - member_id
    type: object
  req.MenuInfo:
    properties:
      active_path:
        type: string
      auths:
        type: string
      children:
        items:
          $ref: '#/definitions/req.MenuInfo'
        type: array
      component:
        type: string
      enter_transition:
        type: string
      extra_icon:
        type: string
      fixed_tag:
        type: boolean
      frame_loading:
        type: boolean
      frame_src:
        type: string
      hidden_tag:
        type: boolean
      icon:
        type: string
      keep_alive:
        type: boolean
      leave_transition:
        type: string
      menu_type:
        type: integer
      name:
        type: string
      parent_id:
        default: -1
        type: integer
      path:
        type: string
      rank:
        type: string
      redirect:
        type: string
      show_link:
        type: boolean
      show_parent:
        type: boolean
      title:
        type: string
    type: object
  req.QueryTableRequest:
    properties:
      house_gid:
        description: 店铺号（圈ID/HouseGID）
        type: integer
      mapped_num:
        description: 桌子映射号（MappedNum）
        type: integer
    required:
    - house_gid
    - mapped_num
    type: object
  req.RegisterRequest:
    properties:
      avatar:
        type: string
      nick_name:
        type: string
      password:
        description: 前端走现在的 RSA 加密再传
        type: string
      username:
        type: string
      wechat_id:
        description: 微信号（人工填写）
        type: string
    required:
    - password
    - username
    type: object
  req.ReqByIds:
    properties:
      ids:
        description: 唯一主键
        items:
          type: integer
        type: array
    required:
    - ids
    type: object
  req.RevokeShopAdminRequest:
    properties:
      house_gid:
        type: integer
      user_id:
        type: integer
    required:
    - house_gid
    - user_id
    type: object
  req.SaveMenuTree:
    properties:
      menu_tree:
        items:
          $ref: '#/definitions/req.MenuInfo'
        type: array
    type: object
  req.StartSessionRequest:
    properties:
      house_gid:
        description: 店铺(茶馆)号
        type: integer
      id:
        description: game_ctrl_account 主键ID（int8）
        type: integer
    required:
    - house_gid
    - id
    type: object
  req.StatsBaseRequest:
    properties:
      house_gid:
        description: 店铺号（圈ID/HouseGID）
        type: integer
    required:
    - house_gid
    type: object
  req.StopSessionRequest:
    properties:
      house_gid:
        description: 店铺(茶馆)号
        type: integer
      id:
        description: game_ctrl_account 主键ID
        type: integer
    required:
    - house_gid
    - id
    type: object
  req.UpdateBasicMenuReq:
    properties:
      component:
        description: 对应前端文件路径
        title: 对应前端文件路径
        type: string
      hidden:
        default: false
        description: 是否隐藏
        title: 是否隐藏
        type: boolean
      id:
        description: 主键
        title: 主键
        type: integer
      name:
        description: 路由name
        title: 路由名称
        type: string
      parent_id:
        default: -1
        description: 父级ID
        title: 父级路由
        type: integer
      path:
        description: 路由path
        title: 路由路径
        type: string
      sort:
        default: 10
        description: 排序
        title: 排序
        type: integer
    required:
    - id
    - name
    - sort
    type: object
  req.UpdateMemberLimitRequest:
    properties:
      forbid:
        description: true=禁，false=解
        type: boolean
      house_gid:
        type: integer
      limit_min:
        description: 可选字段：部分更新
        type: integer
      member_id:
        type: integer
      reason:
        type: string
    required:
    - house_gid
    - member_id
    type: object
  req.UsernamePasswordLoginRequest:
    properties:
      password:
        description: 密码
        example: "123456"
        type: string
      username:
        description: 用户名
        example: testuser
        type: string
    required:
    - password
    - username
    type: object
  req.VerifyAccountRequest:
    properties:
      account:
        description: 账号或手机号
        type: string
      mode:
        description: 登录方式
        enum:
        - account
        - mobile
        type: string
      pwd_md5:
        description: 32位大写MD5
        type: string
    required:
    - account
    - mode
    - pwd_md5
    type: object
  resp.AccountVO:
    properties:
      account:
        type: string
      id:
        type: integer
      is_default:
        type: boolean
      login_mode:
        type: string
      nickname:
        type: string
      status:
        type: integer
    type: object
  resp.AckVO:
    properties:
      ok:
        type: boolean
    type: object
  resp.ApplicationItemVO:
    properties:
      applier_gid:
        description: 申请者圈ID
        type: integer
      applier_id:
        description: 申请者用户ID（游戏用户）
        type: integer
      applier_name:
        description: 申请者昵称
        type: string
      created_at:
        description: 申请时间（unix ms）
        type: integer
      house_gid:
        description: 目标店铺号
        type: integer
      id:
        description: 申请消息ID
        type: integer
      status:
        description: 平台返回的消息状态码
        type: integer
    type: object
  resp.ApplicationsVO:
    properties:
      items:
        items:
          $ref: '#/definitions/resp.ApplicationItemVO'
        type: array
    type: object
  resp.BaseUserInfo:
    properties:
      avatar:
        type: string
      id:
        type: integer
      identity_id:
        type: string
      identity_url:
        type: string
      introduction:
        type: string
      nick_name:
        type: string
      phone:
        type: string
      real_name:
        type: string
      username:
        type: string
    type: object
  resp.BattlePlayerVO:
    description: 战绩玩家及分数
    properties:
      game_id:
        description: 用户游戏ID（GameID）
        type: integer
      name:
        description: 玩家昵称（可选）
        type: string
      score:
        description: 本局分数（正负）
        type: integer
    type: object
  resp.BattleRecordVO:
    properties:
      base_score:
        description: 底分
        type: integer
      kind_id:
        description: 游戏KindID
        type: integer
      players:
        description: 参与玩家
        items:
          $ref: '#/definitions/resp.BattlePlayerVO'
        type: array
      room_id:
        description: 房间号（RoomID）
        type: integer
      time:
        description: 创建时间（秒）
        type: integer
    type: object
  resp.CtrlAccountAllVO:
    properties:
      houses:
        description: 绑定的 house_gid 列表
        items:
          type: integer
        type: array
      id:
        type: integer
      identifier:
        type: string
      last_verify_at:
        type: string
      login_mode:
        description: account|mobile
        type: string
      status:
        type: integer
    type: object
  resp.CtrlAccountVO:
    properties:
      house_gid:
        type: integer
      id:
        type: integer
      identifier:
        type: string
      login_mode:
        type: string
      status:
        type: integer
    type: object
  resp.DiamondQueryResponse:
    properties:
      triggered:
        description: 是否已触发查询
        type: boolean
    type: object
  resp.FundsBalanceResponse:
    properties:
      balance:
        description: 余额（分）
        type: integer
    type: object
  resp.FundsLimitResponse:
    properties:
      balance:
        description: 余额（分）
        type: integer
      forbid:
        description: 是否禁用
        type: boolean
      limit_min:
        description: 个性额度下限（分）
        type: integer
    type: object
  resp.HouseSettingsVO:
    properties:
      fees_json:
        description: 运费配置（原始JSON）
        type: string
      house_gid:
        type: integer
      push_credit:
        description: 推送额度（分）
        type: integer
      share_fee:
        description: 分运开关
        type: boolean
    type: object
  resp.LedgerListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/resp.LedgerVO'
        type: array
      page:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
    type: object
  resp.LedgerVO:
    properties:
      balance_after:
        type: integer
      balance_before:
        type: integer
      biz_no:
        type: string
      change_amount:
        description: 变动额（分），下分为负数
        type: integer
      created_at:
        type: string
      house_gid:
        type: integer
      id:
        type: integer
      member_id:
        type: integer
      operator_user_id:
        type: integer
      reason:
        type: string
      type:
        description: 1上分 2下分 3强制下分 4调整
        type: integer
    type: object
  resp.LoginResponse:
    properties:
      access_token:
        type: string
      expires_in:
        description: 单位：秒
        type: integer
      perms:
        items:
          type: string
        type: array
      platform:
        type: string
      refresh_token:
        type: string
      roles:
        items:
          type: integer
        type: array
      user:
        $ref: '#/definitions/resp.BaseUserInfo'
    type: object
  resp.Menu:
    properties:
      active_path:
        type: string
      auths:
        type: string
      children:
        items:
          $ref: '#/definitions/resp.Menu'
        type: array
      component:
        type: string
      enter_transition:
        type: string
      extra_icon:
        type: string
      fixed_tag:
        type: boolean
      frame_loading:
        type: boolean
      frame_src:
        type: string
      hidden_tag:
        type: boolean
      icon:
        type: string
      id:
        type: integer
      keep_alive:
        type: boolean
      leave_transition:
        type: string
      menu_type:
        type: integer
      name:
        type: string
      parent_id:
        type: integer
      path:
        type: string
      rank:
        type: string
      redirect:
        type: string
      show_link:
        type: boolean
      show_parent:
        type: boolean
      title:
        type: string
    type: object
  resp.SessionStateResponse:
    properties:
      state:
        description: 会话状态字符串，如 online/offline/error
        type: string
    type: object
  resp.ShopAdminVO:
    properties:
      house_gid:
        type: integer
      id:
        type: integer
      role:
        description: 仅 admin|operator，留空=admin
        enum:
        - admin
        - operator
        type: string
      user_id:
        type: integer
    type: object
  resp.ShopMemberListItem:
    properties:
      game_id:
        type: integer
      member_id:
        type: integer
      member_type:
        type: integer
      nick_name:
        type: string
      user_id:
        type: integer
      user_status:
        type: integer
    type: object
  resp.ShopMemberListResponse:
    properties:
      items:
        description: 成员列表
        items:
          $ref: '#/definitions/resp.ShopMemberListItem'
        type: array
    type: object
  resp.ShopTableCheckResponse:
    properties:
      exists_in_cache:
        description: 是否在缓存中存在
        type: boolean
      table:
        allOf:
        - $ref: '#/definitions/resp.TableInfoVO'
        description: 桌信息
      triggered:
        description: 是否触发了底层查询
        type: boolean
    type: object
  resp.ShopTableDetailResponse:
    properties:
      table:
        allOf:
        - $ref: '#/definitions/resp.TableInfoVO'
        description: 桌信息
      triggered:
        description: 是否触发刷新
        type: boolean
    type: object
  resp.ShopTableListResponse:
    properties:
      items:
        description: 房间列表
        items:
          $ref: '#/definitions/resp.TableInfoVO'
        type: array
    type: object
  resp.StatsLedgerVO:
    properties:
      adjust:
        description: 调整（可正可负）
        type: integer
      income:
        description: 上分总额（正数）
        type: integer
      members_involved:
        description: 参与流水成员数
        type: integer
      net:
        description: 净变动
        type: integer
      payout:
        description: 下分总额（正数）
        type: integer
      records:
        description: 流水条数
        type: integer
    type: object
  resp.StatsSessVO:
    properties:
      active:
        description: 当前在线会话数
        type: integer
    type: object
  resp.StatsVO:
    description: 统计时间范围为 [range_start, range_end)
    properties:
      house_gid:
        description: 店铺号
        type: integer
      ledger:
        $ref: '#/definitions/resp.StatsLedgerVO'
      range_end:
        description: 结束时间（不含）
        type: string
      range_start:
        description: 起始时间（含）
        type: string
      session:
        $ref: '#/definitions/resp.StatsSessVO'
      wallet:
        $ref: '#/definitions/resp.StatsWalletVO'
    type: object
  resp.StatsWalletVO:
    properties:
      balance_total:
        type: integer
      low_balance_members:
        type: integer
      members:
        type: integer
    type: object
  resp.TableInfoVO:
    properties:
      base_score:
        description: 底分
        type: integer
      group_id:
        description: 圈ID
        type: integer
      kind_id:
        description: KindID
        type: integer
      mapped_num:
        description: 映射号
        type: integer
      table_id:
        description: 桌ID
        type: integer
    type: object
  resp.VerifyAccountResponse:
    properties:
      ok:
        description: 探活是否成功
        type: boolean
    type: object
  resp.WalletListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/resp.WalletVO'
        type: array
      page:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
    type: object
  resp.WalletVO:
    properties:
      balance:
        description: 余额（分）
        type: integer
      forbid:
        description: 是否冻结
        type: boolean
      house_gid:
        type: integer
      limit_min:
        description: 个性额度下限（分）
        type: integer
      member_id:
        type: integer
      updated_at:
        type: string
      updated_by:
        type: integer
    type: object
  response.Body:
    properties:
      code:
        type: integer
      data: {}
      msg:
        type: string
    type: object
  service.housesByLoginReq:
    properties:
      identifier:
        type: string
      login_mode:
        enum:
        - account
        - mobile
        type: string
      pwd_md5:
        type: string
    required:
    - identifier
    - pwd_md5
    type: object
  utils.PageResult:
    properties:
      extended_field1:
        description: 扩展1
      extended_field2:
        description: 扩展2
      header:
        description: 头部信息
      list:
        description: 结果
      not_page:
        default: false
        description: 是否不分页
        type: boolean
      page_no:
        default: 1
        description: 页页码
        example: 1
        title: 页码
        type: integer
      page_size:
        default: 20
        description: 每页大小
        example: 10
        maximum: 1000
        minimum: 1
        title: 每页大小
        type: integer
      total:
        description: 总条数
        type: integer
    required:
    - page_size
    type: object
info:
  contact: {}
paths:
  /applications/approve:
    post:
      consumes:
      - application/json
      description: 通过指定申请（按消息ID在在线会话缓存中查找）
      parameters:
      - description: 入参在body：{ id }
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.DecideApplicationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.AckVO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "404":
          description: application not found in online sessions
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: no online session
          schema:
            $ref: '#/definitions/response.Body'
      summary: 审批通过
      tags:
      - 店铺/申请
  /applications/reject:
    post:
      consumes:
      - application/json
      description: 拒绝指定申请（按消息ID在在线会话缓存中查找）
      parameters:
      - description: 入参在body：{ id }
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.DecideApplicationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.AckVO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "404":
          description: application not found in online sessions
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: no online session
          schema:
            $ref: '#/definitions/response.Body'
      summary: 审批拒绝
      tags:
      - 店铺/申请
  /basic/baseMenu/addOne:
    post:
      consumes:
      - application/json
      description: Add by model
      parameters:
      - description: 请求参数
        in: body
        name: inParam
        required: true
        schema:
          $ref: '#/definitions/req.AddBasicMenuReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/basic.BasicMenuDoc'
                msg:
                  type: string
              type: object
      summary: BaseMenu 添加单条
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/delMany:
    post:
      consumes:
      - application/json
      description: Delete by ids
      parameters:
      - description: 请求参数
        in: body
        name: inParam
        required: true
        schema:
          $ref: '#/definitions/req.ReqByIds'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
      summary: 批量删除
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/delOne:
    get:
      consumes:
      - application/json
      description: Delete by id
      parameters:
      - description: 唯一主键
        in: query
        minimum: 1
        name: id
        required: true
        type: integer
      - description: 关键字
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
      summary: 删除单条
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/getOne:
    get:
      consumes:
      - application/json
      description: Get by id
      parameters:
      - description: 唯一主键
        in: query
        minimum: 1
        name: id
        required: true
        type: integer
      - description: 关键字
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/basic.BasicMenuDoc'
                msg:
                  type: string
              type: object
      summary: 获取单条
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/getOption:
    get:
      consumes:
      - application/json
      description: Option list (label/value)
      parameters:
      - description: 关键字
        in: query
        name: keyword
        type: string
      - default: 1
        description: 页码
        example: 1
        in: query
        minimum: 1
        name: page
        required: true
        type: integer
      - default: 20
        description: 每页大小
        example: 10
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  allOf:
                  - $ref: '#/definitions/utils.PageResult'
                  - properties:
                      list:
                        items:
                          $ref: '#/definitions/common.Option'
                        type: array
                    type: object
                msg:
                  type: string
              type: object
      summary: 下拉字典
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/getPage:
    get:
      consumes:
      - application/json
      description: Get list by page
      parameters:
      - description: 关键字
        in: query
        name: keyword
        type: string
      - default: 1
        description: 页码
        example: 1
        in: query
        minimum: 1
        name: page
        required: true
        type: integer
      - default: 20
        description: 每页大小
        example: 10
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  allOf:
                  - $ref: '#/definitions/utils.PageResult'
                  - properties:
                      list:
                        items:
                          $ref: '#/definitions/basic.BasicMenuDoc'
                        type: array
                    type: object
                msg:
                  type: string
              type: object
      summary: 分页列表
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/getTree:
    get:
      consumes:
      - application/json
      description: 支持 keyword 模糊筛选后再组树
      parameters:
      - description: 关键字
        in: query
        name: keyword
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/resp.Menu'
                  type: array
                msg:
                  type: string
              type: object
      summary: 菜单树
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/saveTree:
    post:
      consumes:
      - application/json
      description: 成功后返回最新菜单树
      parameters:
      - description: 请求参数
        in: body
        name: inParam
        required: true
        schema:
          $ref: '#/definitions/req.SaveMenuTree'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/resp.Menu'
                  type: array
                msg:
                  type: string
              type: object
      summary: 保存整棵菜单树（覆盖式）
      tags:
      - 系统管理/菜单管理
  /basic/baseMenu/updateOne:
    post:
      consumes:
      - application/json
      description: Update by ID + fields
      parameters:
      - description: 请求参数
        in: body
        name: inParam
        required: true
        schema:
          $ref: '#/definitions/req.UpdateBasicMenuReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
      summary: BaseMenu 更新单条
      tags:
      - 系统管理/菜单管理
  /basic/role/all:
    get:
      produces:
      - application/json
      responses: {}
      security:
      - BearerAuth: []
      summary: 角色全量（启用）
      tags:
      - 基础管理/角色
  /basic/role/getOne:
    get:
      produces:
      - application/json
      responses: {}
      security:
      - BearerAuth: []
      summary: 角色详情
      tags:
      - 基础管理/角色
  /basic/role/list:
    get:
      produces:
      - application/json
      responses: {}
      security:
      - BearerAuth: []
      summary: 角色列表
      tags:
      - 基础管理/角色
  /basic/user/addOne:
    post:
      consumes:
      - application/json
      description: 新增单条记录 Add Model
      parameters:
      - description: 请求参数
        in: body
        name: inParam
        required: true
        schema:
          $ref: '#/definitions/req.AddBasicUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/basic.BasicUserDoc'
                msg:
                  type: string
              type: object
      summary: 新增单条记录
      tags:
      - 基础管理/用户
  /basic/user/delMany:
    post:
      consumes:
      - application/json
      description: 删除多条记录 Del Many Model
      parameters:
      - collectionFormat: multi
        description: 主键ID（多值：?id=1&id=2&id=3）
        in: query
        items:
          type: integer
        name: id
        required: true
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
      summary: 删除多条记录
      tags:
      - 基础管理/用户
  /basic/user/delOne:
    get:
      consumes:
      - application/json
      description: 删除单条记录 Del Model
      parameters:
      - default: 1
        description: 主键
        example: 1
        in: query
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
      summary: 删除单条记录
      tags:
      - 基础管理/用户
  /basic/user/getList:
    get:
      consumes:
      - application/json
      description: 查询N条记录 List/Page Model
      parameters:
      - description: 关键字
        in: query
        name: keyword
        type: string
      - default: false
        description: 是否不分页 需要不分页是传递 true
        in: query
        name: not_page
        type: boolean
      - in: query
        name: order_by
        type: string
      - default: 1
        description: 页码
        example: 1
        in: query
        minimum: 1
        name: page_no
        required: true
        type: integer
      - default: 20
        description: 每页大小 不可大于1000
        example: 10
        in: query
        maximum: 1000
        minimum: 1
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  allOf:
                  - $ref: '#/definitions/utils.PageResult'
                  - properties:
                      list:
                        items:
                          $ref: '#/definitions/basic.BasicUserDoc'
                        type: array
                    type: object
                msg:
                  type: string
              type: object
      summary: 查询N条记录
      tags:
      - 基础管理/用户
  /basic/user/getOne:
    get:
      consumes:
      - application/json
      description: 查询单条记录 By PK Model
      parameters:
      - default: 1
        description: 主键
        example: 1
        in: query
        minimum: 1
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/basic.BasicUserDoc'
                msg:
                  type: string
              type: object
      summary: 查询单条记录
      tags:
      - 基础管理/用户
  /basic/user/getOption:
    get:
      consumes:
      - application/json
      description: 查询N条记录 List/Page Model To Option
      parameters:
      - description: 关键字
        in: query
        name: keyword
        type: string
      - default: false
        description: 是否不分页 需要不分页是传递 true
        in: query
        name: not_page
        type: boolean
      - in: query
        name: order_by
        type: string
      - default: 1
        description: 页码
        example: 1
        in: query
        minimum: 1
        name: page_no
        required: true
        type: integer
      - default: 20
        description: 每页大小 不可大于1000
        example: 10
        in: query
        maximum: 1000
        minimum: 1
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  allOf:
                  - $ref: '#/definitions/utils.PageResult'
                  - properties:
                      list:
                        items:
                          $ref: '#/definitions/basic.BasicUserDoc'
                        type: array
                    type: object
                msg:
                  type: string
              type: object
      summary: 查询N条记录
      tags:
      - 基础管理/用户
  /basic/user/me/perms:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 我的权限码
      tags:
      - 基础管理/用户
  /basic/user/me/roles:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 我的角色ID
      tags:
      - 基础管理/用户
  /basic/user/updateOne:
    post:
      consumes:
      - application/json
      description: 修改单条记录 Update Model
      parameters:
      - description: 请求参数
        in: body
        name: inParam
        required: true
        schema:
          $ref: '#/definitions/req.AddBasicUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/basic.BasicUserDoc'
                msg:
                  type: string
              type: object
      summary: 修改单条记录
      tags:
      - 基础管理/用户
  /game/accounts:
    post:
      consumes:
      - application/json
      description: 普通用户仅能绑定1个游戏账号（DB 触发器兜底）；管理员不受限
      parameters:
      - description: 入参在 body
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.BindMyAccountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.AccountVO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: you have already bound a game account
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 绑定“我的”游戏账号（仅允许 1 条）
      tags:
      - 游戏/我的账号
  /game/accounts/me:
    delete:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 解绑我的游戏账号
      tags:
      - 游戏/我的账号
    get:
      produces:
      - application/json
      responses:
        "200":
          description: 若未绑定，data 为 null
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.AccountVO'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 我的游戏账号
      tags:
      - 游戏/我的账号
  /game/accounts/sessionStart:
    post:
      consumes:
      - application/json
      description: 使用中控账号在指定店铺建立会话
      parameters:
      - description: id=game_ctrl_account主键ID; house_gid=店铺号
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.StartSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: state=online
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.SessionStateResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      summary: 启动会话（中控账号）
      tags:
      - 游戏/会话
  /game/accounts/sessionStop:
    post:
      consumes:
      - application/json
      description: 停止中控账号与店铺的会话
      parameters:
      - description: id=game_ctrl_account主键ID; house_gid=店铺号
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.StopSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: state=offline
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.SessionStateResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      summary: 停止会话（中控账号）
      tags:
      - 游戏/会话
  /game/accounts/verify:
    post:
      consumes:
      - application/json
      description: 只做登录探测，不写库、不建立会话
      parameters:
      - description: 'mode: account|mobile；account: 账号或手机号'
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.VerifyAccountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { ok: true }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.VerifyAccountResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 校验游戏账号是否可用（探活82）
      tags:
      - 游戏/我的账号
  /login/register:
    post:
      consumes:
      - application/json
      description: 使用用户名与密码注册新用户，成功后返回访问令牌与用户信息
      parameters:
      - description: 注册参数
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/req.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.LoginResponse'
                msg:
                  type: string
              type: object
        "400":
          description: 参数错误
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
        "500":
          description: 注册失败
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
      summary: 用户注册（用户名 + 密码）
      tags:
      - 基础管理/登录
  /login/username:
    post:
      consumes:
      - application/json
      description: 使用用户名与密码登录，成功后返回访问令牌与用户信息
      parameters:
      - description: 登录参数
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/req.UsernamePasswordLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.LoginResponse'
                msg:
                  type: string
              type: object
        "400":
          description: 参数错误
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
        "401":
          description: 登录失败
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                msg:
                  type: string
              type: object
      summary: 用户名密码登录
      tags:
      - 基础管理/登录
  /members/battle/details:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, group_id, period(=today|yesterday|thisweek), 可选game_id
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.BattleDetailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/resp.BattleRecordVO'
                  type: array
              type: object
      summary: 用户战绩明细（外部HTTP）
      tags:
      - 战绩
  /members/credit/deposit:
    post:
      consumes:
      - application/json
      parameters:
      - description: 入参在body
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.CreditDepositRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { balance: 123 }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.FundsBalanceResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
      summary: 上分
      tags:
      - 资金/额度
  /members/credit/force_withdraw:
    post:
      consumes:
      - application/json
      description: 忽略 forbid 与 limit_min，仅记录流水
      parameters:
      - description: 入参在body
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.CreditForceWithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { balance: 123 }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.FundsBalanceResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
      summary: 强制下分
      tags:
      - 资金/额度
  /members/credit/withdraw:
    post:
      consumes:
      - application/json
      description: 受 forbid 与 limit_min 约束
      parameters:
      - description: 入参在body
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.CreditWithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { balance: 123 }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.FundsBalanceResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "422":
          description: 越过 limit_min 或已禁分
          schema:
            $ref: '#/definitions/response.Body'
      summary: 下分
      tags:
      - 资金/额度
  /members/ledger/list:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, member_id 可选, type 可选, 时间范围
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListLedgerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.LedgerListResponse'
              type: object
      summary: 资金流水查询
      tags:
      - 资金/流水
  /members/limit:
    patch:
      consumes:
      - application/json
      description: forbid=true 会尝试调用会话进行禁分；false 解除禁分
      parameters:
      - description: 入参在body（limit_min/forbid 任一可选）
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.UpdateMemberLimitRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { balance, forbid, limit_min }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.FundsLimitResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: 会话不存在（需要下发禁分指令时）
          schema:
            $ref: '#/definitions/response.Body'
      summary: 设置禁分阈值/禁用状态
      tags:
      - 资金/额度
  /members/wallet/get:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, member_id
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.GetWalletRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.WalletVO'
              type: object
      summary: 查询单人钱包
      tags:
      - 资金/钱包
  /members/wallet/list:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, min/max_balance, has_custom_limit, page
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListWalletsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.WalletListResponse'
              type: object
      summary: 钱包列表（支持余额区间/是否个性额度过滤）
      tags:
      - 资金/钱包
  /ops/plaza/health:
    get:
      description: 返回 plaza.Manager 的健康状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 获取广场健康状态
      tags:
      - Ops
  /ops/plaza/housesByLogin:
    post:
      consumes:
      - application/json
      parameters:
      - description: login_mode 默认 account
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/service.housesByLoginReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  items:
                    type: integer
                  type: array
              type: object
      summary: 通过账号登录尝试列出店铺
      tags:
      - Ops
  /ops/plaza/metrics:
    get:
      description: 返回 plaza.Manager 的指标快照
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 获取广场指标
      tags:
      - Ops
  /platforms/list:
    get:
      description: 返回全部平台
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 平台列表
      tags:
      - Public
  /shops/admins:
    delete:
      consumes:
      - application/json
      parameters:
      - description: house_gid, user_id
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.RevokeShopAdminRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      summary: 撤销店铺管理员
      tags:
      - 店铺/管理员
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, user_id, role(admin|operator, 默认admin)
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.AssignShopAdminRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Body'
      summary: 分配店铺管理员
      tags:
      - 店铺/管理员
  /shops/admins/list:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid 必填
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListShopAdminsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/resp.ShopAdminVO'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
      summary: 店铺管理员列表
      tags:
      - 店铺/管理员
  /shops/applications/list:
    post:
      consumes:
      - application/json
      description: 按店铺号列出最近收到的管理员申请（依赖在线会话缓存）
      parameters:
      - description: 入参在body：{ house_gid }
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListApplicationsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.ApplicationsVO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: session not online
          schema:
            $ref: '#/definitions/response.Body'
      summary: 店铺管理员申请列表
      tags:
      - 店铺/申请
  /shops/ctrlAccounts:
    post:
      consumes:
      - application/json
      parameters:
      - description: 入参在body
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/game.createCtrlAccountOnlyReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.CtrlAccountVO'
              type: object
      summary: 创建/更新中控账号（不绑定店铺）；兼容：若携带 house_gid，则创建后立即绑定
      tags:
      - 游戏/中控
  /shops/ctrlAccounts/bind:
    delete:
      consumes:
      - application/json
      parameters:
      - description: ctrl_id, house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/game.unbindCtrlReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 解绑中控与店铺
      tags:
      - 游戏/中控
    post:
      consumes:
      - application/json
      parameters:
      - description: ctrl_id, house_gid, status(可选), alias(可选)
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/game.bindCtrlReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 绑定中控到店铺
      tags:
      - 游戏/中控
  /shops/ctrlAccounts/list:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid 必填
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.CtrlAccountListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/resp.CtrlAccountVO'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
      summary: 按店铺列出中控账号
      tags:
      - 游戏/中控
  /shops/ctrlAccounts/listAll:
    post:
      consumes:
      - application/json
      parameters:
      - description: 筛选：login_mode(1/2) status(0/1) keyword 模糊 identifier
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListAllCtrlAccountsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 附带 houses（绑定店铺列表）
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/resp.CtrlAccountAllVO'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
      security:
      - BearerAuth: []
      summary: 中控账号全量列表（可筛选分页）
      tags:
      - 游戏/中控
  /shops/diamond/query:
    post:
      consumes:
      - application/json
      description: 调用会话 GetDiamond；接口返回触发状态。
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListTablesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { triggered: bool }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.DiamondQueryResponse'
              type: object
      summary: 查询当前中控账号财富（钻石）
      tags:
      - 店铺/成员
  /shops/fees/get:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.GetWalletRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.HouseSettingsVO'
              type: object
      summary: 查询店铺设置（运费/分运/推送额度）
      tags:
      - 店铺
  /shops/groups/bind:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, message_id
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.GroupBindRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 绑圈（同意申请）
      tags:
      - 圈/群
  /shops/groups/delete:
    post:
      consumes:
      - application/json
      description: 若无直通删除圈协议，则逐个踢出成员以达到删除效果
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.GroupBaseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 删圈
      tags:
      - 圈/群
  /shops/groups/forbid:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, key, member_ids 可选
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.GroupForbidRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 禁圈
      tags:
      - 圈/群
  /shops/groups/unbind:
    post:
      consumes:
      - application/json
      description: 无直通退圈协议时，等价：停止当前店铺会话
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.GroupBaseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 退圈
      tags:
      - 圈/群
  /shops/groups/unforbid:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, key, member_ids 可选
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.GroupForbidRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 解圈
      tags:
      - 圈/群
  /shops/members/kick:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, member_id
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.KickMemberRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: no online session
          schema:
            $ref: '#/definitions/response.Body'
      summary: 踢出成员
      tags:
      - 店铺/成员
  /shops/members/list:
    post:
      consumes:
      - application/json
      description: 触发 GetGroupMembers 并返回最近一次的成员快照（若无则返回空列表）
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListTablesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { items: [] }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.ShopMemberListResponse'
              type: object
      summary: 成员列表快照
      tags:
      - 店铺/成员
  /shops/members/logout:
    post:
      consumes:
      - application/json
      description: 使用 KickOffMember 强制下线（实现侧等价于从圈成员删除），与“踢人”动作在结果上相同。
      parameters:
      - description: house_gid, member_id
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.KickMemberRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 强制用户下线（区别于踢出）
      tags:
      - 店铺/成员
  /shops/members/pull:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListTablesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 手动刷新成员列表（触发拉取）
      tags:
      - 店铺/成员
  /shops/tables/check:
    post:
      consumes:
      - application/json
      description: 调用会话 QueryTable；仅触发下发，不保证立即返回玩家列表，返回触发状态和最近一次房间快照中该桌是否存在。
      parameters:
      - description: house_gid, mapped_num
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.QueryTableRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { triggered: bool, exists_in_cache: bool }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.ShopTableCheckResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: session not online
          schema:
            $ref: '#/definitions/response.Body'
      summary: 查询单桌玩家（直透 Plaza）
      tags:
      - 店铺/房间
  /shops/tables/detail:
    post:
      consumes:
      - application/json
      description: 从会话缓存读取该桌信息，并触发一次 QueryTable(mapped_num)；若缓存中不存在则返回 404。
      parameters:
      - description: house_gid, mapped_num
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.QueryTableRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { table: TableInfoVO, triggered: bool }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.ShopTableDetailResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/response.Body'
        "404":
          description: table not found in cache
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: session not online
          schema:
            $ref: '#/definitions/response.Body'
      summary: 查桌详情（快照+触发刷新）
      tags:
      - 店铺/房间
  /shops/tables/dismiss:
    post:
      consumes:
      - application/json
      description: '`kind_id` 可选；若不传则从当前会话缓存中按 `mapped_num` 推断，不存在则返回 422。'
      parameters:
      - description: 入参在body（house_gid, mapped_num, kind_id 可选）
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.DismissTableRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: 未授权/Token 失效
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: 会话不存在或未在线
          schema:
            $ref: '#/definitions/response.Body'
        "422":
          description: 需要提供 kind_id（缓存中未找到且未提交）
          schema:
            $ref: '#/definitions/response.Body'
      summary: 解散房间
      tags:
      - 店铺/房间
  /shops/tables/list:
    post:
      consumes:
      - application/json
      description: 需要管理员在该店铺下已建立在线会话；返回最近一次 SUB_GA_TABLE_LIST 的本地快照。
      parameters:
      - description: 入参在body（house_gid）
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListTablesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 'data: { items: []TableInfoVO }'
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.ShopTableListResponse'
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/response.Body'
        "401":
          description: 未授权/Token 失效
          schema:
            $ref: '#/definitions/response.Body'
        "409":
          description: 会话不存在或未在线
          schema:
            $ref: '#/definitions/response.Body'
      summary: 会话中的房间列表
      tags:
      - 店铺/房间
  /shops/tables/pull:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.ListTablesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Body'
      summary: 手动刷新房间列表（触发拉取）
      tags:
      - 店铺/房间
  /stats/lastweek:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.StatsBaseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.StatsVO'
              type: object
      summary: 上周统计（上周一至本周一）
      tags:
      - 统计
  /stats/member/today:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid, member_id
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.MemberStatsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.StatsVO'
              type: object
      summary: 成员-今日统计
      tags:
      - 统计
  /stats/today:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.StatsBaseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.StatsVO'
              type: object
      summary: 今日统计
      tags:
      - 统计
  /stats/week:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.StatsBaseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.StatsVO'
              type: object
      summary: 本周统计（近7天）
      tags:
      - 统计
  /stats/yesterday:
    post:
      consumes:
      - application/json
      parameters:
      - description: house_gid
        in: body
        name: in
        required: true
        schema:
          $ref: '#/definitions/req.StatsBaseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Body'
            - properties:
                data:
                  $ref: '#/definitions/resp.StatsVO'
              type: object
      summary: 昨日统计
      tags:
      - 统计
swagger: "2.0"
